{
  "name": "Default",
  "image": "ubuntu:latest",
  "customizations": {
    // Configure JetBrains IDE-specific properties
    "jetbrains": {
      "backend": "IntelliJ",
      "settings": {
        "com.intellij:app:BuiltInServerOptions.builtInServerPort": 57845,
        "com.intellij:app:EditorSettings.soft_wrap_file_masks": "*.md; *.txt; *.rst; *.adoc",
        "Git4Idea:app:Git-Application-Settings.use_credential_helper": true,
        "com.intellij:app:HttpConfigurable.use_proxy_pac": true,
        "com.intellij:app:Vcs-Log-App-Settings.show_changes_from_parents": true,
        "com.intellij:app:Vcs-Log-App-Settings.show_tag_names": true,
        "com.intellij:app:BaseRefactoringSettings.safe_delete_when_delete": false,
        "com.intellij:app:BaseRefactoringSettings.rename_search_in_comments_for_file": false,
        "com.intellij:app:BaseRefactoringSettings.rename_search_for_references_for_file": false,
        "com.intellij.database:app:DatabaseSettings.enable-local-filter-by-default": false
        // IDE settings can be added via “Show context actions”|“Add currently modified settings from IDE”.
        // A complete list of supported settings is also available through auto-completion
      },
      "plugins": [
        // A set of plugin IDs.
        // Plugin ID can be found on the corresponding plugin’s page at https://plugins.jetbrains.com.
      ]
    }
  },
  "features": {
    "ghcr.io/devcontainers/features/git": {},
    "ghcr.io/devcontainers/features/docker-in-docker:2": {},
    "ghcr.io/devcontainers/features/github-cli:1": {},
    "ghcr.io/devcontainers-extra/features/curl-apt-get": {},
    "ghcr.io/nils-geistmann/devcontainers-features/zsh": {
      "theme": "gnzh",
      "plugins": [
        "git",
        "zsh-autosuggestions",
        "zsh-syntax-highlighting",
      ]
    },
    "ghcr.io/devcontainers/features/node:1": {
      "version": "22"
    },
    "ghcr.io/devcontainers/features/java": {
      "installMaven": true,
      "version": "21",
      "jdkDistro": "open"
    },
    "ghcr.io/kreemer/features/chrometesting" : {},
  },
  // Port forwarding for frontend and backend
  "forwardPorts": [
    5173,  // Vite dev server (frontend)
    8080   // Spring Boot backend
  ],
  "portsAttributes": {
    "5173": {
      "label": "Frontend",
      "onAutoForward": "notify"
    },
    "8080": {
      "label": "Backend API",
      "onAutoForward": "notify"
    }
  },
  // Comment out to connect as the root user.
  "remoteUser": "ubuntu",
  "postCreateCommand": "curl -fsSL https://claude.ai/install.sh | bash",
  "mounts": [
    "source=${localEnv:HOME}/.claude,target=/home/ubuntu/.claude,type=bind,consistency=cached",
    "source=${localEnv:HOME}/.claude.json,target=/home/ubuntu/.claude.json,type=bind,consistency=cached",
  ]
}